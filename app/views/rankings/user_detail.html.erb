<% content_for :title, "Desempenho - #{@user.name}" %>
<%= breadcrumb ["Inicio", root_path], ["Rankings", rankings_path], [@championship.full_name, championship_rankings_path(championship_id: @championship.id)], @user.name %>

<div style="text-align: center; margin-bottom: 30px;">
  <h1 style="color: #000080;">Desempenho: <%= @user.name %></h1>
  <p style="font-size: 18px; color: #666; margin-top: 10px;">
    <strong><%= @championship.full_name %></strong>
  </p>
  <div style="margin-top: 15px;">
    <%= link_to "Voltar", championship_rankings_path(championship_id: @championship.id), class: "btn" %>
  </div>
</div>

<div class="card">
  <h2 style="text-align: center; margin-bottom: 20px;">Resumo Geral</h2>
  <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 20px 0;">
    <div style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 5px;">
      <h3 style="font-size: 36px; color: #000080; margin: 10px 0;"><%= @overall_standing&.total_points || 0 %></h3>
      <p style="color: #666;">Pontos Totais</p>
    </div>
    <div style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 5px;">
      <h3 style="font-size: 36px; color: #28a745; margin: 10px 0;"><%= @overall_standing&.rounds_won || 0 %></h3>
      <p style="color: #666;">Rodadas Vencidas</p>
    </div>
    <div style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 5px;">
      <h3 style="font-size: 36px; color: #ffc107; margin: 10px 0;"><%= @overall_standing&.position || '-' %>ยบ</h3>
      <p style="color: #666;">Posicao Geral</p>
    </div>
  </div>
</div>

<div class="card">
  <h2 style="text-align: center; margin-bottom: 20px;">Desempenho por Rodada</h2>
  <table>
    <thead>
      <tr>
        <th style="text-align: center;">Rodada</th>
        <th style="text-align: center;">Pontos</th>
        <th style="text-align: center;">Posicao</th>
        <th style="text-align: center;">Placares Exatos</th>
        <th style="text-align: center;">Resultados Corretos</th>
      </tr>
    </thead>
    <tbody>
      <% @round_scores.each do |score| %>
        <tr>
          <td style="text-align: center;"><strong>Rodada <%= score.round.number %></strong></td>
          <td style="text-align: center;"><%= score.total_points %></td>
          <td style="text-align: center;"><%= score.position %>ยบ</td>
          <td style="text-align: center;"><%= score.exact_scores %></td>
          <td style="text-align: center;"><%= score.correct_results %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
