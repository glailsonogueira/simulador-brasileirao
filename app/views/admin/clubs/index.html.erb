<% content_for :title, "Clubes" %>
<%= breadcrumb ["Início", root_path], ["Admin", admin_championships_path], "Clubes" %>

<h1>Admin - Clubes</h1>

<%= link_to "← Voltar", admin_championships_path, class: "btn", style: "margin-bottom: 20px;" %>
<%= link_to "Novo Clube", new_admin_club_path, class: "btn", style: "margin-bottom: 20px; background: #28a745;" %>

<div class="card">
  <table>
    <thead>
      <tr>
        <th>Escudo</th>
        <th>Nome</th>
        <th>Sigla</th>
        <th>Cor</th>
        <th>Especial</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <% @clubs.each do |club| %>
        <tr>
          <td>
            <% if club.badge.attached? %>
              <%= image_tag club.badge, style: "width: 30px; height: 30px;" %>
            <% else %>
              -
            <% end %>
          </td>
          <td><%= club.name %></td>
          <td><strong><%= club.abbreviation %></strong></td>
          <td>
            <div style="width: 30px; height: 30px; background: <%= club.primary_color || '#ccc' %>; border: 1px solid #ddd; border-radius: 3px;"></div>
          </td>
          <td>
            <% if club.special_club? %>
              <span style="color: #ffc107; font-size: 20px;">★</span>
            <% else %>
              -
            <% end %>
          </td>
          <td>
            <%= link_to "Editar", edit_admin_club_path(club), class: "btn", style: "padding: 5px 10px; font-size: 12px; margin: 2px;" %>
            <%= button_to "Remover", admin_club_path(club), method: :delete, data: { confirm: "Tem certeza?" }, class: "btn btn-danger", style: "padding: 5px 10px; font-size: 12px; margin: 2px;" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<div class="card" style="margin-top: 20px;">
  <h3>Estatísticas</h3>
  <p><strong>Total de clubes:</strong> <%= @clubs.count %></p>
  <p><strong>Clube especial (Remo):</strong> <%= @clubs.where(special_club: true).count %></p>
</div>
