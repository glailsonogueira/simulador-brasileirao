<% content_for :title, "Clubes" %>
<%= breadcrumb ["Início", root_path], ["Admin", admin_championships_path], "Clubes" %>

<div style="text-align: center; margin-bottom: 30px;">
  <h1 style="color: #000080;">Clubes</h1>
  <div>
    <%= link_to "← Voltar", root_path, class: "btn", style: "margin: 0 5px;" %>
    <%= link_to "+ Novo Clube", new_admin_club_path, class: "btn", style: "margin: 0 5px; background: #28a745;" %>
  </div>
</div>

<div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 20px; margin-bottom: 30px;">
  <% @clubs.each do |club| %>
    <div class="card" style="background: <%= club.primary_color %>; padding: 20px; text-align: center; position: relative; min-height: 220px;">
      
      <div style="display: flex; justify-content: center; align-items: center; gap: 10px; margin-bottom: 15px;">
        <% if club.badge_url %>
          <%= image_tag club.badge_url, style: "width: 80px; height: 80px; object-fit: contain; background: white; border-radius: 50%; padding: 5px;" %>
        <% else %>
          <div style="width: 80px; height: 80px; background: white; border-radius: 50%;"></div>
        <% end %>
        
        <% if club.special_club? %>
          <span style="color: #ffc107; font-size: 24px; position: absolute; top: 10px; right: 10px;">★</span>
        <% end %>
      </div>
      
      <div style="margin-bottom: 15px;">
        <h3 style="color: white; font-size: 16px; margin: 0; text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">
          <%= club.name %>
        </h3>
        <p style="color: white; font-size: 12px; margin: 5px 0 0 0; text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">
          (<%= club.abbreviation %>)
        </p>
      </div>
      
      <div style="display: flex; justify-content: center; gap: 10px; margin-top: auto;">
        <%= link_to edit_admin_club_path(club), style: "background: white; padding: 8px; border-radius: 25px; text-decoration: none; display: inline-flex; align-items: center; justify-content: center;", title: "Editar" do %>
          <%= image_tag 'edit-icon.svg', style: 'filter: brightness(0.5) sepia(1) hue-rotate(90deg) saturate(5); width: 32px; height: 32px;' %>
        <% end %>
        
        <%= button_to admin_club_path(club), method: :delete, data: { confirm: "Excluir #{club.name}?" }, style: "background: white; padding: 8px; border-radius: 25px; border: none; cursor: pointer; display: inline-flex; align-items: center; justify-content: center;", title: "Excluir" do %>
          <%= image_tag 'bin-icon.svg', style: 'filter: brightness(0.5) sepia(1) hue-rotate(-50deg) saturate(5); width: 32px; height: 32px;' %>
        <% end %>
      </div>
      
    </div>
  <% end %>
</div>

<div class="card">
  <h3 style="text-align: center;">Estatísticas</h3>
  <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; text-align: center; margin-top: 15px;">
    <div>
      <p style="font-size: 32px; font-weight: bold; color: #000080; margin: 0;"><%= @clubs.count %></p>
      <p style="color: #666; font-size: 14px;">Total de Clubes</p>
    </div>
    <div>
      <p style="font-size: 32px; font-weight: bold; color: #ffc107; margin: 0;"><%= @clubs.special.count %></p>
      <p style="color: #666; font-size: 14px;">Clubes Especiais</p>
    </div>
    <div>
      <p style="font-size: 32px; font-weight: bold; color: #28a745; margin: 0;"><%= @clubs.count { |c| c.badge_url.present? } %></p>
      <p style="color: #666; font-size: 14px;">Com Escudo</p>
    </div>
  </div>
</div>
