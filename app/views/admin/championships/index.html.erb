<% content_for :title, "Campeonatos" %>
<%= breadcrumb ["Início", root_path], ["Admin", admin_championships_path], "Campeonatos" %>

<h1>Admin - Campeonatos</h1>

<%= link_to "← Voltar", root_path, class: "btn", style: "margin-bottom: 20px;" %>
<%= link_to "+ Novo Campeonato", new_admin_championship_path, class: "btn", style: "margin-bottom: 20px; background: #28a745;" %>

<div class="card">
  <table>
    <thead>
      <tr>
        <th>Ano</th>
        <th>Nome</th>
        <th>Status</th>
        <th>Data Início</th>
        <th>Data Fim</th>
        <th>Clubes</th>
        <th>Rodadas</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <% @championships.each do |championship| %>
        <tr>
          <td><strong><%= championship.year %></strong></td>
          <td><%= championship.name %></td>
          <td>
            <% if championship.active? %>
              <span style="color: #28a745; font-weight: bold;">✓ Ativo</span>
            <% else %>
              <span style="color: #999;">Inativo</span>
            <% end %>
          </td>
          <td><%= championship.start_date&.strftime("%d/%m/%Y") %></td>
          <td><%= championship.end_date&.strftime("%d/%m/%Y") %></td>
          <td><%= championship.clubs_count %>/20</td>
          <td><%= championship.rounds.count %></td>
          <td>
            <div style="display: flex; gap: 8px; align-items: center;">
              <%= link_to admin_championship_path(championship), style: "display: inline-flex; padding: 5px;" do %>
                <img src="/view-icon.png" alt="Visualizar" style="width: 28px; height: 28px;">
              <% end %>
              
              <%= link_to edit_admin_championship_path(championship), style: "display: inline-flex; padding: 5px;" do %>
                <img src="/pen-icon.png" alt="Editar" style="width: 28px; height: 28px;">
              <% end %>
              
              <%= button_to admin_championship_path(championship), method: :delete, data: { confirm: "Excluir #{championship.full_name}?" }, style: "background: transparent; border: none; cursor: pointer; padding: 5px; display: inline-flex;" do %>
                <img src="/bin-icon.png" alt="Excluir" style="width: 28px; height: 28px;">
              <% end %>
            </div>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
